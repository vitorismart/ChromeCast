(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\alert-form.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
    angular.module("GScreen").controller("AlertForm", function($scope, $location, $http, flash, Alert, Chromecast) {

        $scope.colors = [{
            code: "106",
            color: "#A0522D"
        }, {
            code: "47",
            color: "#CD5C5C"
        }, {
            code: "87",
            color: "#FF4500"
        }, {
            code: "17",
            color: "#008B8B"
        }, {
            code: "18",
            color: "#B8860B"
        }, {
            code: "68",
            color: "#32CD32"
        }, {
            code: "42",
            color: "#FFD700"
        }, {
            code: "77",
            color: "#48D1CC"
        }, {
            code: "107",
            color: "#87CEEB"
        }, {
            code: "46",
            color: "#FF69B4"
        }, {
            code: "64",
            color: "#87CEFA"
        }, {
            code: "13",
            color: "#6495ED"
        }, {
            code: "15",
            color: "#DC143C"
        }, {
            code: "24",
            color: "#FF8C00"
        }, {
            code: "78",
            color: "#C71585"
        }, {
            code: "123",
            color: "#000000"
        }];

        console.log(Chromecast.session);
        $scope.maxTextLength = 140;
        $scope.alert = {
            style: "#A0522D",
            duration: 60
        };

        $scope.clearAlerts = function() {
            return $http.get("/custom/clearAlerts");
        };

        $scope.onFormSubmit = function() {
            var seconds;
            seconds = $scope.alert.duration;
            $scope.alert.expiresAt = new Date(new Date().getTime() + (seconds * 1000)).toISOString();

            return Alert.save($scope.alert, function() {
                flash.message("Your alert has been saved.");
                return $location.url("/");
            });
        };

    });
}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\channel-form.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  angular.module("GScreen").controller("ChannelForm", function($scope, $routeParams, $location, flash, Channel) {
    var _ref;
    $scope.mainUrls = [];
    $scope.channel = $routeParams.id ? Channel.get($routeParams.id) : {
      layout: "single-cell",
      cells: [
        {
          urls: [
            {
              url: ""
            }
          ],
          duration: 60
        }, {
          urls: [
            {
              url: ""
            }
          ],
          duration: 60
        }
      ]
    };
    if ((_ref = $scope.channel.$promise) != null) {
      _ref.then(function(channel) {
        return console.log(channel);
      });
    }
    $scope.onFormSubmit = function() {
      return Channel.save($scope.channel, function() {
        flash.message("Your changes to '" + $scope.channel.name + "' have been saved.");
        return $location.url("/channels");
      });
    };
    $scope.deleteChannel = function() {
      return Channel.remove($scope.channel, function() {
        flash.message("The channel '" + $scope.channel.name + "' has been deleted.");
        return $location.url("/channels");
      });
    };
    return $scope.removeUrlFromCell = function(url, cellIndex) {
      return $scope.channel.cells[cellIndex].urls = _.without($scope.channel.cells[cellIndex].urls, url);
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\channels.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {

    angular.module("GScreen").controller("Channels", function($scope, Channel) {
        $scope.channels = Channel.query();
        return $scope.channels;
    });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\chromecast-form.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
    angular.module("GScreen").controller("ChromecastForm", function($scope, $routeParams, $location, castAway, flash, Chromecast, Channel) {
        var connect, session;
        $scope.chromecast = $routeParams.id ? Chromecast.get($routeParams.id) : {};
        $scope.channels = Channel.query();
        session = null;


        connect = function() {
            return castAway.connect(function(err, s) {
                if (err) {
                    return console.log("ERR", err);
                }
                Chromecast.session = s;
                session = s;
                return $scope.$apply(function() {
                    $scope.chromecast.name = session.session.receiver.friendlyName;
                    return $scope.chromecast.name;
                });
            });
        };

        if (!$routeParams.id) {
            connect();
        }

        $scope.reconnect = function() {
            return connect();
        };

        $scope.onFormSubmit = function() {
            return Chromecast.save($scope.chromecast, function(chromecast) {
                flash.message("Your changes to '" + $scope.chromecast.name + "' have been saved.");

                if (session) {
                    session.send("setChromecastId", chromecast.id);
                }
                return $location.url("/chromecasts");
            });
        };

        $scope.deleteChannel = function() {
            console.log("deleteing", $scope.chromecast);
            return Chromecast.remove($scope.chromecast, function() {
                flash.message("The Chromecast '" + $scope.chromecast.name + "' has been deleted.");
                return $location.url("/chromecasts");
            });
        };

        return $scope.deleteChannel;
    });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\chromecasts.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
    angular.module("GScreen").controller("Chromecasts", function($scope, Chromecast, castAway) {

        castAway.initialize();
        $scope.chromecasts = Chromecast.query();
        $scope.chromecastAvailable = castAway.available;
        console.log("Initial Chromecast available", $scope.chromecastAvailable);

        return castAway.on("receivers:available", function() {
            $scope.$apply(function() {
                $scope.chromecastAvailable = true;
                return $scope.chromecastAvailable;
            });
            

            return console.log("Chromecast is available", $scope.chromecastAvailable);
        });
    });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\main.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  angular.module("GScreen").controller("Main", function($scope) {
    return $scope.username = "";
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\receiver.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
    angular.module("GScreen").controller("Receiver", function($scope, $sce, $location, localDevice) {
        var match;
        if (match = $location.url().match(/\/chromecasts\/([^\/\?#]+)/)) {
            localDevice.setChromecastId(match[1]);
        }
        $scope.title = "Setting Up Chromecast";
        $scope.chromecast = null;
        $scope.channelUrl = null;
        localDevice.on("change", function(c) {
            $scope.chromecast = c;
            $scope.title = "Greenscreen - " + c.name;
            $scope.channelUrl = $sce.trustAsResourceUrl("/channels/" + c.channelId);
            if (!$scope.$$phase) {
                return $scope.$apply();
            }
        });

        return window.onload = function() {
            var castAway, e, receiver, mediaElement;
            try {

                cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);
                console.log('Starting media application');
                mediaElement = document.getElementById("video");
                castAway = new CastAway();

                castConfig = {
                    "mediaElement": mediaElement
                };
                
                receiver = castAway.receive(castConfig);
                receiver.on("setChromecastId", function(id) {
                    return localDevice.setChromecastId(id);
                });

            } catch (_error) {
                e = _error;
                return console.log("Cannot load CastAway", e);
            }
        };
    });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\screen.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  angular.module("GScreen").controller("Screen", function($scope, $sce, $location, Channel, sockets) {
    var id, lastTimeoutId, mainContentUrlCounter, rotateMainContentUrl;
    id = $location.url().match(/\/channels\/([^\/\?]+)/)[1];
    $scope.channel = Channel.get(id);
    $scope.channel.$promise.then(function(channel) {
      return setTimeout(rotateMainContentUrl, 0);
    });
    sockets.on("channel-updated", function(channel) {
      if (channel.id === $scope.channel.id) {
        $scope.channel = channel;
        return setTimeout(rotateMainContentUrl, 0);
      }
    });
    mainContentUrlCounter = 0;
    lastTimeoutId = null;
    return rotateMainContentUrl = function() {
      var cell, seconds, urls;
      clearTimeout(lastTimeoutId);
      cell = $scope.channel.cells[0];
      urls = cell.urls;
      if (urls.length === 1) {
        $scope.mainContentUrl = $sce.trustAsResourceUrl(urls[0].url);
      } else {
        $scope.mainContentUrl = $sce.trustAsResourceUrl(urls[mainContentUrlCounter].url);
        mainContentUrlCounter++;
        if (mainContentUrlCounter >= urls.length) {
          mainContentUrlCounter = 0;
        }
        seconds = parseInt(cell.duration, 10);
        lastTimeoutId = setTimeout(rotateMainContentUrl, seconds * 1000);
      }
      if (!$scope.$$phase) {
        return $scope.$apply();
      }
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\takeover-form.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  angular.module("GScreen").controller("TakeoverForm", function($scope, flash, Channel, Takeover) {
    $scope.takeover = Takeover.get();
    $scope.channels = Channel.query();
    $scope.onFormSubmit = function() {
      return Takeover.save($scope.takeover, function(t) {
        var channel, _base;
        if ((_base = $scope.takeover).id == null) {
          _base.id = t.id;
        }
        channel = _($scope.channels).detect(function(ch) {
          return ch.id === $scope.takeover.channelId;
        });
        return flash.message("The '" + channel.name + "' channel has taken over.");
      });
    };
    return $scope.onStop = function($event) {
      $event.stopPropagation();
      $event.preventDefault();
      return Takeover.remove($scope.takeover, function() {
        $scope.takeover = {};
        return flash.message("The takeover has stopped.");
      });
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\video.js":[function(require,module,exports){
(function() {
    angular.module("GScreen").controller("Video", function($scope, castAway, CONFIG, $http, feedLoader, $sce) {
        var mediaControls;
        castAway.initialize();

        var media = {
            "description": "what car can you get for a grand",
            "source": "file://c:/big-buck-bunny_trailer.webm",
            //"source": "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4",
            "subtitle": "By Garage419",
            "thumb": "images/WhatCarCanYouGetForAGrand.jpg",
            "title": "What care can you get for a grand?",
            "contentType": "video/webm"
        };

        $scope.test = function() {
            return $http.get("/custom/testVideo");
        };
        $scope.cast = function() {

            var mediaInfo = new chrome.cast.media.MediaInfo(media.source);

            mediaInfo.metadata = new chrome.cast.media.GenericMediaMetadata();
            mediaInfo.metadata.metadataType = chrome.cast.media.MetadataType.GENERIC;
            mediaInfo.contentType = media.contentType;

            window.session.load(mediaInfo, function(data) {
                mediaControls = data;
            });


        };

        $scope.videoFileClick = function(event) {
        	console.log(event);
        };

        $scope.stop = function() {
            if (mediaControls) {
                mediaControls.stop();
            }
        };

        $scope.stream = function() {
            console.log("starting stream");
            return $http.get("/custom/castVideo");
        };

    
        feedLoader.loadFeed("http://rmurphey.com/atom.xml",function(data) {
            $scope.feed = data.responseData.feed;
            var entries = $scope.feed.entries;
            entries.forEach(function(entry){
                entry.contentHTML = $sce.trustAsHtml(entry.content);
            });

        });

    });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\directives\\flash-container.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  angular.module("GScreen").directive("flashContainer", function(flash) {
    return {
      transclude: false,
      restrict: "E",
      replace: true,
      template: "<div id='alerts'></div>",
      link: function(scope, element, attrs) {
        return flash.on("message", function(msg) {
          var el, remove;
          el = $("<div class='flash-msg'>" + msg + "</div>");
          $(element).append(el);
          remove = function() {
            return el.remove();
          };
          return setTimeout(remove, 5000);
        });
      }
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\directives\\real-link.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  angular.module("GScreen").directive("realLink", function() {
    return function(scope, element, attrs) {
      var $el;
      $el = $(element);
      return $el.click(function(e) {
        return window.location.href = $el.attr("href");
      });
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\gscreen.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  window.GScreen = angular.module("GScreen", ["ng", "ngResource", "ngRoute", "lr.upload"]);

  require("./routes");

  require("./controllers/alert-form");

  require("./controllers/main");

  require("./controllers/channels");

  require("./controllers/channel-form");

  require("./controllers/chromecasts");

  require("./controllers/chromecast-form");

  require("./controllers/receiver");

  require("./controllers/screen");

  require("./controllers/video");

  require("./controllers/takeover-form");

  require("./directives/flash-container");

  require("./directives/real-link");

  require("./resources/alert");

  require("./resources/channel");

  require("./resources/chromecast");

  require("./resources/takeover");

  require("./services/cast-away");

  require("./services/flash");

  require("./services/local-device");

  require("./services/sockets");

  require("./services/feeds");

}).call(this);

},{"./controllers/alert-form":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\alert-form.js","./controllers/channel-form":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\channel-form.js","./controllers/channels":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\channels.js","./controllers/chromecast-form":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\chromecast-form.js","./controllers/chromecasts":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\chromecasts.js","./controllers/main":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\main.js","./controllers/receiver":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\receiver.js","./controllers/screen":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\screen.js","./controllers/takeover-form":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\takeover-form.js","./controllers/video":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\controllers\\video.js","./directives/flash-container":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\directives\\flash-container.js","./directives/real-link":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\directives\\real-link.js","./resources/alert":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\resources\\alert.js","./resources/channel":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\resources\\channel.js","./resources/chromecast":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\resources\\chromecast.js","./resources/takeover":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\resources\\takeover.js","./routes":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\routes.js","./services/cast-away":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\cast-away.js","./services/feeds":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\feeds.js","./services/flash":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\flash.js","./services/local-device":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\local-device.js","./services/sockets":"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\sockets.js"}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\resources\\alert.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  var __slice = [].slice;

  angular.module("GScreen").factory("Alert", function($resource) {
    var resource;
    resource = $resource("/api/alerts/:id", null, {
      update: {
        method: "PUT"
      }
    });
    return {
      get: function(id) {
        return resource.get({
          id: id
        });
      },
      query: function() {
        var args;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        return resource.query.apply(resource, args);
      },
      save: function(data, cb) {
        if (cb === null) {
          cb = function() {};
        }
        if (data.id) {
          return resource.update({
            id: data.id
          }, data, cb);
        } else {
          return resource.save(data, cb);
        }
      },
      remove: function(data, cb) {
        if (cb === null) {
          cb = function() {};
        }
        return resource.remove({
          id: data.id
        }, cb);
      }
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\resources\\channel.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  var __slice = [].slice;

  angular.module("GScreen").factory("Channel", function($resource) {
    var resource;
    resource = $resource("/api/channels/:id", null, {
      update: {
        method: "PUT"
      }
    });
    return {
      get: function(id) {
        return resource.get({
          id: id
        });
      },
      query: function() {
        var args;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        return resource.query.apply(resource, args);
      },
      save: function(data, cb) {
        if (cb == null) {
          cb = function() {};
        }
        if (data.id) {
          return resource.update({
            id: data.id
          }, data, cb);
        } else {
          return resource.save(data, cb);
        }
      },
      remove: function(data, cb) {
        if (cb == null) {
          cb = function() {};
        }
        return resource.remove({
          id: data.id
        }, cb);
      }
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\resources\\chromecast.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  var __slice = [].slice;

  angular.module("GScreen").factory("Chromecast", function($resource) {
    var resource;
    resource = $resource("/api/receivers/:id", null, {
      update: {
        method: "PUT"
      }
    });
    return {
      get: function(id) {
        return resource.get({
          id: id
        });
      },
      query: function() {
        var args;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        return resource.query.apply(resource, args);
      },
      save: function(data, cb) {
        if (cb == null) {
          cb = function() {};
        }
        if (data.id) {
          if (data.alert && new Date(data.alert.expiresAt).getTime() < new Date().getTime()) {
            data.alert = null;
          }
          return resource.update({
            id: data.id
          }, data, cb);
        } else {
          return resource.save(data, cb);
        }
      },
      remove: function(data, cb) {
        if (cb == null) {
          cb = function() {};
        }
        return resource.remove({
          id: data.id
        }, cb);
      }
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\resources\\takeover.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  var __slice = [].slice;

  angular.module("GScreen").factory("Takeover", function($resource) {
    var resource;
    resource = $resource("/api/takeover", null, {
      update: {
        method: "PUT"
      }
    });
    return {
      get: function(id) {
        return resource.get();
      },
      query: function() {
        var args;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        return resource.query.apply(resource, args);
      },
      save: function(data, cb) {
        if (cb == null) {
          cb = function() {};
        }
        return resource.save(data, cb);
      },
      remove: function(data, cb) {
        if (cb == null) {
          cb = function() {};
        }
        return resource.remove(cb);
      }
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\routes.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  GScreen.config(function($routeProvider, $locationProvider) {
    $routeProvider.when("/", {
      templateUrl: '/templates/main.html'
    });
    $routeProvider.when("/channels", {
      templateUrl: "/templates/channels/index.html"
    });
    $routeProvider.when("/channels/new", {
      templateUrl: "/templates/channels/new.html"
    });
    $routeProvider.when("/channels/:id/edit", {
      templateUrl: "/templates/channels/edit.html"
    });
    $routeProvider.when("/chromecasts", {
      templateUrl: "/templates/chromecasts/index.html"
    });
    $routeProvider.when("/alert", {
      templateUrl: "/templates/alert/index.html"
    });
    $routeProvider.when("/takeover", {
      templateUrl: "/templates/takeover/index.html"
    });
    $routeProvider.when("/chromecasts/new", {
      templateUrl: "/templates/chromecasts/new.html"
    });
    $routeProvider.when("/chromecasts/:id/edit", {
      templateUrl: "/templates/chromecasts/edit.html"
    });
    $routeProvider.when("/videotest", {
      templateUrl: "/templates/video/videotest.html"
    });
    return $locationProvider.html5Mode(true);
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\cast-away.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
    angular.module("GScreen").factory("castAway", function(CONFIG) {
        var castAway, exports, listeners, _base;
        castAway = null;
        listeners = {
            "receivers:available": []
        };
        exports = {
            available: false,
            on: function(key, func) {
                if (!listeners[key]) {
                   listeners[key] = [];
                }
                return listeners[key].push(func);

                // if(castAway){
                //     castAway.on(key, func);
                // }else{
                //     console.log("castAway needs to be initialized before setting listeners");
                // }

            },
            connect: function(cb) {
                if (!castAway) {
                    return;
                }
                return castAway.requestSession(cb);
            },
            receiver: function() {
                if (!castAway) {
                    return;
                }
                return castAway.receiver();
            },
            initialize: function() {
                initializeChromecast();
            }

        };



        function initializeChromecast() {
            if (typeof chrome !== "undefined" && chrome !== null ? chrome.cast : void 0) {
                if ((_base = chrome.cast).timeout == null) {
                    _base.timeout = {};
                }
                chrome.cast.timeout.requestSession = 20000;
                castAway = window.castAway = new CastAway({
                    applicationID: CONFIG.chromecastApplicationId,
                    namespace: "urn:x-cast:json"
                });
                castAway.on("receivers:available", function() {
                    var l, _i, _len, _ref;
                    console.log("receivers available");
                    exports.available = true;
                    _ref = listeners["receivers:available"];
                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        l = _ref[_i];
                        l();
                    }
                    return $("#cast").click(function(ev) {
                        return ev.preventDefault();
                    });
                });
                castAway.on("existingSessionFound", function(s){
                  window.session = s;
                });

                castAway.initialize(function(err, data) {
                    return console.log("initialized", err, data);
                });
            }
        };
        return exports;
    });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\feeds.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
    angular.module("GScreen").factory("feedLoader", function($resource) {
        var exports, resource;


        return exports = {
            loadFeed: function(url, callback) {
                resource = $resource('http://ajax.googleapis.com/ajax/services/feed/load', {}, {
                    fetch: {
                        method: 'JSONP',
                        params: {
                            v: '1.0',
                            callback: 'JSON_CALLBACK',
                            q: url
                        }
                    }
                });
                return resource.fetch(function(data) {
                    callback(data);
                });
            }
        };
    });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\flash.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  angular.module("GScreen").factory("flash", function() {
    var exports, listeners;
    listeners = {
      message: []
    };
    return exports = {
      on: function(key, func) {
        return listeners[key].push(func);
      },
      message: function(msg) {
        var l, _i, _len, _ref, _results;
        _ref = listeners.message;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          l = _ref[_i];
          _results.push(l(msg));
        }
        return _results;
      }
    };
  });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\local-device.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
    angular.module("GScreen").factory("localDevice", function(Chromecast, sockets) {
        var clearAlert, scheduledAlert, clearTimeoutId, createAlert, exports, listeners, loadChromecast, loadChromecastFromPersistence, updateAlert, updateChannelId, updateChromecast;
        listeners = {
            "change": []
        };
        clearTimeoutId = null;
        loadChromecast = function(id) {
            return Chromecast.get(id).$promise.then(function(c) {
                console.log("loadChromecast", c);
                updateChromecast(c);
                return createAlert(c.alert);
            });
        };
        updateChromecast = function(c) {
            var l, _i, _len, _ref, _results;
            exports.chromecast = c;
            _ref = listeners.change;
            _results = [];
            for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                l = _ref[_i];
                _results.push(l(c));
            }
            return _results;
        };
        updateChannelId = function(channelId) {
            var k, newCast, v, _ref;
            newCast = {};
            _ref = exports.chromecast;
            for (k in _ref) {
                v = _ref[k];
                newCast[k] = v;
            }
            newCast.channelId = channelId;
            return updateChromecast(newCast);
        };
        updateAlert = function(alert) {
            var k, newCast, v, _ref;
            newCast = {};
            _ref = exports.chromecast;
            for (k in _ref) {
                v = _ref[k];
                newCast[k] = v;
            }
            newCast.alert = alert;
            return updateChromecast(newCast);
        };
        loadChromecastFromPersistence = function() {
            var id;
            if (id = localStorage.getItem("chromecast-id")) {
                return loadChromecast(id);
            }
        };
        clearAlert = function() {
            console.log("Clearing the alert");
            if (clearTimeoutId) {
                clearTimeout(clearTimeoutId);

                if (scheduledAlert) {
                    createScheduledAlert();
                }
            }
            return updateAlert(null);
        };

        createScheduledAlert = function() {
            if (scheduledAlert) {

                setTimeout(function() {
                    if (scheduledAlert) {
                        scheduledAlert.expiresAt = new Date().getTime() + (scheduledAlert.duration * 1000);
                        createAlert(scheduledAlert);
                    }
                }, scheduledAlert.repeatTime * 1000);
            }
        };

        createAlert = function(alert) {
            var duration;
            if (alert) {
                duration = new Date(alert.expiresAt).getTime() - new Date().getTime();

                if (duration > 0) {
                    updateAlert(alert);
                    console.log("duration", duration);

                    if (alert.repeatTime) {
                        scheduledAlert = alert;
                    }


                    clearTimeoutId = setTimeout(clearAlert, Math.ceil(duration));
                    return clearTimeoutId;

                } else {
                    return clearAlert();
                }
            }
        };
        sockets.on("receiver-updated", function(chromecast) {
            if (exports.chromecast.id === chromecast.id) {
                return updateChromecast(chromecast);
            }
        });
        sockets.on("takeover-created", function(takeover) {
            return updateChannelId(takeover.channelId);
        });
        sockets.on("takeover-updated", function(takeover) {
            return updateChannelId(takeover.channelId);
        });
        sockets.on("takeover-deleted", function() {
            return loadChromecastFromPersistence();
        });
        sockets.on("alert-deleted", function() {
            console.log('alert deleted');
            scheduledAlert = null;
            return clearAlert();
        });
        sockets.on("alert-created", function(alert) {
            console.log("Creating alert", alert);
            return createAlert(alert);
        });
        loadChromecastFromPersistence();
        exports = {
            setChromecastId: function(id) {
                loadChromecast(id);
                return localStorage.setItem("chromecast-id", id);
            },
            on: function(event, func) {
                return listeners[event].push(func);
            },
            chromecast: null
        };
        return exports;
    });

}).call(this);

},{}],"C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\services\\sockets.js":[function(require,module,exports){
// Generated by CoffeeScript 1.8.0

/*
Copyright (c) 2014, Groupon
All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

(function() {
  var __slice = [].slice;

  angular.module("GScreen").factory("sockets", function() {
    var addListenerForEvent, exports, listeners, socket;
    listeners = {};
    socket = io(window.location.origin);
    socket.on('connect', function() {
      var connected;
      return connected = true;
    });
    addListenerForEvent = function(name) {
      return socket.on(name, function() {
        var args, l, _i, _len, _ref, _results;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        _ref = listeners[name];
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          l = _ref[_i];
          _results.push(l.apply(null, args));
        }
        return _results;
      });
    };
    return exports = {
      on: function(name, func) {
        if (listeners[name]) {
          return listeners[name].push(func);
        } else {
          listeners[name] = [func];
          return addListenerForEvent(name);
        }
      },
      emit: function() {
        var args;
        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
        return socket.emit.apply(socket, args);
      }
    };
  });

}).call(this);

},{}]},{},["C:\\inetpub\\wwwroot\\Greenscreen\\target\\client\\gscreen.js"]);
